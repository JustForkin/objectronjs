<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>QUnit test suite</title>
  <link rel="stylesheet" href="lib/qunit-1.13.0.css">
</head>
<body>
  <div id="qunit"></div>
  <div id="qunit-fixture"></div>
  <script src="lib/qunit-1.13.0.js"></script>
  <script src="../objectron.js"></script>
  <script type="text/javascript">
    
    var epsilon = 0.00001; // for floating point comparison

    test('initial state', function testCase() {
      var ng = objectron.ngram.create(3);
      deepEqual(ng.top(), []);
    });
    
    test('prob', function testCase() {
      var ng = objectron.ngram.create(3);

      ng.push('a');
      ng.push('a');
      ng.push('b');

      equal(ng.prob(['a', 'a', 'b']), 1);
      equal(ng.prob(['a', 'b', 'a']), 0);
    });

    test('top', function testCase() {
      var ng = objectron.ngram.create(3);

      ng.push('a');
      ng.push('a');
      ng.push('b');

      deepEqual(ng.top(), []);
    });

    test('short sequence', function testCase() {
      var ng = objectron.ngram.create(3);

      ng.push('a');
      ng.push('a');
      ng.push('b');
      ng.push('12');
      ng.push('a');
      ng.push('a');
      ng.push('b');

      deepEqual(ng.top(1), ['12']);
    });

    
  </script>
</body>
</html>
